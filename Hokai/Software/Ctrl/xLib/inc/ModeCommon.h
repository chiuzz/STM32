#ifndef	_MODECOMMON_H_
#define	_MODECOMMON_H_
#include "common.h"

//********************************************************************************************************
//* 函 数 名 : void GetRESPTime 
//**------------------------------------------------------------------------------------------------------
//* 描    述 : 从频率获取呼吸时间 RR 单位BPM
//**------------------------------------------------------------------------------------------------------
//* 输入参数 : INT16U RR
//**------------------------------------------------------------------------------------------------------
//* 返   回  : 呼吸时间 单位10ms
//********************************************************************************************************
extern INT16U GetRESPTime(INT16U RR);

//********************************************************************************************************
//* 函 数 名 : void GetTiTeTime
//**------------------------------------------------------------------------------------------------------
//* 描    述 : 从吸呼比和呼吸时间，获得吸气相，呼气相时间。单位10ms
//**------------------------------------------------------------------------------------------------------
//* 输入参数 : INT16U Time 呼吸时间 单位10ms
//*            INT16U TiRatio 吸呼比，吸
//*            INT16U TeRatio 吸呼比，呼
//**------------------------------------------------------------------------------------------------------
//* 输出参数 : INT16U *pTiTime 吸气相时间 单位10ms
//*            INT16U *pTeTime 呼气相时间 单位10ms
//**------------------------------------------------------------------------------------------------------
//* 返   回  : void
//********************************************************************************************************
extern void GetTiTeTime(INT16U *pTiTime, INT16U *pTeTime,INT16U Time, INT16U TiRatio, INT16U TeRatio); 
extern INT16U GetTiTime(INT16U Time, INT16U TiRatio, INT16U TeRatio);
extern INT16U GetTeTime(INT16U Time, INT16U TiRatio, INT16U TeRatio);
//********************************************************************************************************
//* 函 数 名 : void GetInspTime
//**------------------------------------------------------------------------------------------------------
//* 描    述 : 从吸气相时间和吸气平台，获得吸气时间 
//**------------------------------------------------------------------------------------------------------
//* 输入参数 : TiTime 吸气相时间 单位10ms
//*            InspTable 吸气平台 单位%
//**------------------------------------------------------------------------------------------------------
//* 输出参数 : void
//**------------------------------------------------------------------------------------------------------
//* 返   回  : 吸气时间 单位10ms
//********************************************************************************************************
extern INT16U GetInspTime(INT16U TiTime,INT16U InspTable);

//********************************************************************************************************
//* 函 数 名 : void GetFlowVT
//**------------------------------------------------------------------------------------------------------
//* 描    述 : 从气体体积和氧浓度百分比，计算x%氧气和空气的体积
//**------------------------------------------------------------------------------------------------------
//* 输入参数 : INT16U Vent 总体积 ml
//*            INT8U Present 目标氧浓度，单位%
//*            INT8U O2Pre 氧气浓度 1-100%
//**------------------------------------------------------------------------------------------------------
//* 输出参数 : INT16U *pAirVT 空气体积 ml
//*            INT16U *pO2VT 氧气体积 ml
//**------------------------------------------------------------------------------------------------------
//* 返   回  : void
//********************************************************************************************************
extern void GetFlowVT(INT16U *pAirVT, INT16U *pO2VT, INT16U Vent, INT8U Present, INT8U O2Pre);
extern INT16U GetAirFlowVT(INT16U Vent, INT8U Present, INT8U O2Pre);
extern INT16U GetO2FlowVT(INT16U Vent, INT8U Present, INT8U O2Pre);

extern INT16U AD_Match(INT16U AD, INT16U Length, INT16U* ADTab, INT16U* FactValTab);

#endif	//_APP_H_
